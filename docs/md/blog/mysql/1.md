## 索引下推

MySQL中的"索引下推"（Index Condition Pushdown，简称ICP）是一种优化技术，它允许MySQL在执行联合索引查询时，将过滤条件从主查询移到索引扫描阶段，从而更早地过滤掉不满足条件的行，减少需要检查的行数。

以下是使用索引下推的常见场景：

1. **多列索引查询** ：当你对一个多列索引进行查询时，ICP特别有用。例如，假设你有一个(a, b, c)的索引，并且查询条件是a=1 AND b>2 AND c=3。在这种场景下，即使b和c的条件在a之后，MySQL仍然可以尝试使用ICP，因为a=1可能过滤掉很多行。
2. **范围查询** ：当查询条件包含范围查询时，如 `a BETWEEN 1 AND 10`，ICP可以用于减少扫描的行数。
3. **部分匹配查询** ：当查询涉及到部分匹配时，如 `LIKE '%abc'`，ICP可以帮助减少不匹配的行数。
4. **复杂的函数和表达式** ：当WHERE子句中的条件包含复杂的函数或表达式时，ICP可以帮助更早地过滤行。
5. **统计信息和索引选择器** ：MySQL的查询优化器使用统计信息来决定是否使用ICP。因此，确保表和索引的统计信息是最新的很重要。
6. **JOIN操作中的索引下推** ：在JOIN操作中，如果在一个表上的过滤条件可以通过索引来优化，那么MySQL可能会使用ICP来减少需要检查的行数。

要注意的是，不是所有的查询都可以从ICP中受益。MySQL的查询优化器会根据统计信息和查询的实际情况来决定是否使用ICP。你可以通过检查查询的执行计划（使用 `EXPLAIN`命令）来查看是否使用了ICP。

对 `InnoDB`存储引擎来说，索引下推只适用于二级索引（也叫辅助索引）;


创建索引的原则：

1、根据业务的需要创建联合索引

2、索引列的区分度越高越好
