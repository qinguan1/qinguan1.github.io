# 分布式事务

作者：qinguan
<br/>博客：[https://bugstack.cn](https://bugstack.cn)

> 故不积跬步，无以至千里；不积小流，无以成江海！🌻

# 前言


# 一、数据库本地事务

对于关系型数据库系统而言，一个本地事务就代表`一个不可分割的执行过程`，这个过程中可能包含针对多个数据库表的插入或更新或删除的操作，这些操作要么*全部成功，要么全部失败*，全部操作执行完毕后的数据就实现了一致，最终保存到数据库中。多个不同事务之间按照不同的事务隔离级别进行数据隔离。

## 1.1 原子性（Atomic）
原子性是指事务是一个`不可分割`的工作单位，事务中的操作要么全部成功，要么全部失败。也就是说`在同一个事务中的SQL语句，要么全部执行成功，要么全部执行失败。`
```sql
-- 以张三向李四转账100块为例：
begin transaction; -- 开启事务
    update account set money = money - 100 where name = '张三'; -- 扣减张三账户100块
    update account set money = money + 100 where name = '李四'; -- 增加李四账户100块
commit transaction; -- 提交事务

```

## 1.2 一致性（Consistency）

## 1.3 隔离性（Isolation）

事务的隔离级别

## 1.4 持久性（Durability）

# 二、分布式事务
 基于各个节点的本地事务

 ## 2.1 CAP理论


# 三、分布式事务的实现方式

## 4.1 2PC

## 4.2 TCC

# 四、分布式事务常见问题
---

# 总结
提示：这里对文章进行总结：
例如：以上就是今天要讲的内容，本文仅仅简单介绍了pandas的使用，而pandas提供了大量能使我们快速便捷地处理数据的函数和方法。
